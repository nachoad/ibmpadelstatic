<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
    <meta name="description" content="">
    <meta name="author" content="">
    <link rel="icon" href="./favicon.ico">
    <script src="./Chart.js"></script>

    <title>IBM Padel 7 Series</title>

    <!-- Bootstrap core CSS -->
    <link rel="stylesheet" href="https://bootswatch.com/slate/bootstrap.min.css">

    <!-- Custom styles for this template -->
    <link href="starter-template.css" rel="stylesheet">

    <!-- Just for debugging purposes. Don't actually copy these 2 lines! -->
    <!--[if lt IE 9]><script src="../../assets/js/ie8-responsive-file-warning.js"></script><![endif]-->
    <!-- <script src="../../assets/js/ie-emulation-modes-warning.js"></script> -->

    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->

  </head>

  <body>

    <nav class="navbar navbar-default navbar-fixed-top">
      <div class="container">
        <div class="navbar-header">
          <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
            <span class="sr-only">Navegacion</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <a class="navbar-brand" href="#">IBM Padel 7 Series</a>
        </div>
        <div id="navbar" class="collapse navbar-collapse">
          <ul class="nav navbar-nav">
            <li class="active"><a href="#">Home</a></li>
            <li><a href="#jugador">Datos por jugador</a></li>
            <li><a href="#grafico">Gráfico</a></li>
            <li><a href="#historico">Datos históricos</a></li>
          </ul>
        </div><!--/.nav-collapse -->
      </div>
    </nav>

    <div class="container">




      <div class="starter-template">
        <h1>Torneo IBM Padel 7 Series.</h1>
        <p class="lead">Puntuaciones generales individuales e histórico de partidos.</p>
        <p class="text-muted"> Las puntuaciones se reseestablecen cuando cada jugador haya tenido de pareja el resto de jugadores.</p>
        <p class="text-muted"> Los sets con juegos empatados se resuelven dando ganador a ambos equipos.</p>
        <p class="text-muted"> Para el recuento de Sets, sólo se tienen en cuenta los finalizados (no los que se quedaron a medias).</p>
      </div>





      <div class="pull-right"><span><a name="jugador">∙</a></span></div>
      <div class="page-header">
          <h1>Datos por jugador</h1>
          <p class="text-info"> Clic en el título de la columna para ordenar </p>
      </div>

      <table id="indextable" class="table table-striped table-hover ">
        <thead>
          <tr>
            <th>#</th>
            <th><a href="javascript:SortTable(1,'T');">Nombre</a></th>
            <th><a href="javascript:SortTable(2,'N');">Juegos Ganados</a></th>
            <th><a href="javascript:SortTable(3,'N');">Juegos Jugados</a></th>
            <th><a href="javascript:SortTable(4,'N');">Sets Ganados</th>
            <th><a href="javascript:SortTable(5,'N');">Sets Jugados</th>
            <th><a href="javascript:SortTable(6,'N');">Ratio (Juegos)</th>
            <th><a href="javascript:SortTable(7,'N');">Ratio (Sets)</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td>1</td>
            <td>Abel</td>
            <td>56</td>
            <td>97</td>
            <td>7</td>
            <td>9</td>
            <td>57.73%</td>
            <td>77.78%</td>
          </tr>
          <tr>
            <td>2</td>
            <td>Alberto</td>
            <td>25</td>
            <td>55</td>
            <td>1</td>
            <td>2</td>
            <td>45.45%</td>
            <td>50%</td>
          </tr>
          <tr>
            <td>3</td>
            <td>David</td>
            <td>18</td>
            <td>33</td>
            <td>1</td>
            <td>2</td>
            <td>54.55%</td>
            <td>50%</td>
          </tr>
          <tr>
            <td>4</td>
            <td>Edu</td>
            <td>-</td>
            <td>-</td>
            <td>-</td>
            <td>-</td>
            <td>-</td>
            <td>-</td>
          </tr>
          <tr>
            <td>5</td>
            <td>Guille</td>
            <td>43</td>
            <td>94</td>
            <td>3</td>
            <td>8</td>
            <td>45.74%</td>
            <td>37.50%</td>
          </tr>
          <tr>
            <td>6</td>
            <td>Iván</td>
            <td>52</td>
            <td>97</td>
            <td>6</td>
            <td>9</td>
            <td>53.61%</td>
            <td>66.67%</td>
          </tr>
          <tr>
            <td>7</td>
            <td>Karlos</td>
            <td>19</td>
            <td>58</td>
            <td>2</td>
            <td>6</td>
            <td>32.76%</td>
            <td>33.33%</td>
          </tr>
          <tr>
            <td>8</td>
            <td>Kayser</td>
            <td>35</td>
            <td>78</td>
            <td>2</td>
            <td>5</td>
            <td>44.87%</td>
            <td>40%</td>
          </tr>
          <tr>
            <td>9</td>
            <td>Liher</td>
            <td>15</td>
            <td>25</td>
            <td>2</td>
            <td>2</td>
            <td>60%</td>
            <td>100%</td>
          </tr>
          <tr>
            <td>10</td>
            <td>Marcos</td>
            <td>-</td>
            <td>-</td>
            <td>-</td>
            <td>-</td>
            <td>-</td>
            <td>-</td>
          </tr>
          <tr>
            <td>11</td>
            <td>Maria</td>
            <td>9</td>
            <td>33</td>
            <td>0</td>
            <td>4</td>
            <td>27.27%</td>
            <td>0%</td>
          </tr>
          <tr>
            <td>12</td>
            <td>Nacho</td>
            <td>51</td>
            <td>109</td>
            <td>3</td>
            <td>9</td>
            <td>46.79%</td>
            <td>33.33%</td>
          </tr>
          <tr>
            <td>13</td>
            <td>Paloma</td>
            <td>24</td>
            <td>33</td>
            <td>4</td>
            <td>4</td>
            <td>72.73%</td>
            <td>100%</td>
          </tr>
          <tr>
            <td>14</td>
            <td>Santi</td>
            <td>13</td>
            <td>27</td>
            <td>1</td>
            <td>3</td>
            <td>48.15%</td>
            <td>33.33%</td>
          </tr>
        </tbody>
      </table>



      <div class="pull-right"><span><a name="grafico">∙</a></span></div>
      <div class="page-header">
          <h1>Gráfico</h1>
          <p class="text-info">Visualización de los ratios por jugador. </p>
      </div>

      <div class="row">
        <div class="col-xs-12 col-sm-12 col-md-12"><p class="text-right">(Valores en %)</p>
          <p class="text-right text-info"><span class="label label-info"> </span> - Ratio (Juegos) </p>
          <p class="text-right text-success"><span class="label label-success"> </span> - Ratio (Sets) </p>
        </div>
      </div>
      <div style="width: 100%">
  			<canvas id="canvas" height="300" width="700"></canvas>
  		</div>





      <div class="pull-right"><span><a name="historico">∙</a></span></div>
      <div class="page-header">
          <h1>Histórico</h1>
          <p class="text-info">Datos históricos de los partidos</p>
      </div>

      <table class="table table-striped table-hover ">
        <thead>
          <tr>
            <th>#</th>
            <th>Fecha</th>
            <th>Equipo 1</th>
            <th>Equipo 2</th>
            <th>Resultado</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td>1</td>
            <td>30/09/2015</td>
            <td class="success">Guille-Kayser</td>
            <td>Alberto-Nacho</td>
            <td>6-4, 6-6</td>
          </tr>
          <tr>
            <td>2</td>
            <td>30/09/2015</td>
            <td>Karlos-Iván</td>
            <td class="success">Liher-Abel</td>
            <td>5-7, 2-6, 3-2</td>
          </tr>
          <tr>
            <td>3</td>
            <td>08/10/2015</td>
            <td class="success">David-Nacho</td>
            <td>Kayser-Alberto</td>
            <td>6-3, 6-7, 6-5</td>
          </tr>
          <tr>
            <td>4</td>
            <td>14/10/2015</td>
            <td class="success">Paloma-Karlos</td>
            <td>Maria-Nacho</td>
            <td>6-1, 6-1</td>
          </tr>
          <tr>
            <td>5</td>
            <td>14/10/2015</td>
            <td>Maria-Karlos</td>
            <td class="success">Paloma-Nacho</td>
            <td>3-6, 4-6</td>
          </tr>
          <tr>
            <td>6</td>
            <td>14/10/2015</td>
            <td class="success">Guille-Ivan</td>
            <td>Santi-Abel</td>
            <td>6-3, 2-6, 6-4</td>
          </tr>
		  <tr>
            <td>7</td>
            <td>15/10/2015</td>
            <td class="success">Iván-Abel</td>
            <td>Guille-Nacho</td>
            <td>3-6, 6-7</td>
          </tr>
          <tr>
            <td>8</td>
            <td>22/10/2015</td>
            <td class="success">Iván-Abel</td>
            <td>Kayser-Guille</td>
            <td>6-2, 6-3, 3-3</td>
          </tr>
        </tbody>
      </table>

      <br />
      <br />
      <br />

      <!-- Footer
      ================================================== -->
      <footer>
        <div class="row">
          <div class="well">
            <div class="panel-body">
              <p class="text-muted">Made by <a href="http://twitter.com/nachoad">@nachoad</a>.</p>
              <p class="text-muted">Based on <a href="http://getbootstrap.com" rel="nofollow">Bootstrap</a>. Icons from <a href="http://fortawesome.github.io/Font-Awesome/" rel="nofollow">Font Awesome</a>. Web fonts from <a href="http://www.google.com/webfonts" rel="nofollow">Google</a>. Oct. 2015.</p>
            </div>
          </div>
      </footer>

    </div><!-- /.container -->








<!-- Scripts
================================================== -->
    <!-- grafica -->
    <script>
  	var barChartData = {
  		labels : ["Abel","Alberto","David","Edu","Guille","Iván","Karlos","Kayser","Liher","Marcos","Maria","Nacho","Paloma","Santi"],
  		datasets : [
  			{
  				fillColor : "rgba(91, 192, 222, 0.8)",
  				strokeColor : "rgba(91, 192, 220, 0.9)",
  				highlightFill: "rgba(33, 150, 185, 0.75)",
  				highlightStroke: "rgba(33, 150, 185, 1)",
  				data : [57.73,45.45,54.55,0,45.74,53.61,32.76,44.87,60,0,27.27,46.79,72.73,48.15]
  			},
        {
				fillColor : "rgba(54,204,54, 0.8)",
				strokeColor : "rgba(54,204,54, 0.9)",
				highlightFill : "rgba(37, 160, 37, 0.75)",
				highlightStroke : "rgba(37, 160, 37, 1)",
				data : [77.78,50,50,0,37.50,66.67,33.33,40,100,0,0,33.33,100,33.33]
			}
  		]
  	}
  	window.onload = function(){
  		var ctx = document.getElementById("canvas").getContext("2d");
  		window.myBar = new Chart(ctx).Bar(barChartData, {
  			responsive : true,
        animationSteps: 180,
        scaleFontFamily: 'sans-serif',
        scaleFontSize: 12,
        barValueSpacing: 5,
  		});
  	}
  	</script>


    <!-- Script para ordenar tabla -->
    <script type="text/javascript">
    /*
       Willmaster Table Sort
       Version 1.0
       July 3, 2011

       Will Bontrager
       http://www.willmaster.com/
       Copyright 2011 Will Bontrager Software, LLC

       This software is provided "AS IS," without
       any warranty of any kind, without even any
       implied warranty such as merchantability
       or fitness for a particular purpose.
       Will Bontrager Software, LLC grants
       you a royalty free license to use or
       modify this software provided this
       notice appears on all copies.
    */
    //
    // One placed to customize - The id value of the table tag.

    var TableIDvalue = "indextable";

    //
    //////////////////////////////////////
    var TableLastSortedColumn = -1;
    function SortTable() {
    var sortColumn = parseInt(arguments[0]);
    var type = arguments.length > 1 ? arguments[1] : 'T';
    var dateformat = arguments.length > 2 ? arguments[2] : '';
    var table = document.getElementById(TableIDvalue);
    var tbody = table.getElementsByTagName("tbody")[0];
    var rows = tbody.getElementsByTagName("tr");
    var arrayOfRows = new Array();
    type = type.toUpperCase();
    dateformat = dateformat.toLowerCase();
    for(var i=0, len=rows.length; i<len; i++) {
    	arrayOfRows[i] = new Object;
    	arrayOfRows[i].oldIndex = i;
    	var celltext = rows[i].getElementsByTagName("td")[sortColumn].innerHTML.replace(/<[^>]*>/g,"");
    	if( type=='D' ) { arrayOfRows[i].value = GetDateSortingKey(dateformat,celltext); }
    	else {
    		var re = type=="N" ? /[^\.\-\+\d]/g : /[^a-zA-Z0-9]/g;
    		arrayOfRows[i].value = celltext.replace(re,"").substr(0,25).toLowerCase();
    		}
    	}
    if (sortColumn == TableLastSortedColumn) { arrayOfRows.reverse(); }
    else {
    	TableLastSortedColumn = sortColumn;
    	switch(type) {
    		case "N" : arrayOfRows.sort(CompareRowOfNumbers); break;
    		case "D" : arrayOfRows.sort(CompareRowOfNumbers); break;
    		default  : arrayOfRows.sort(CompareRowOfText);
    		}
    	}
    var newTableBody = document.createElement("tbody");
    for(var i=0, len=arrayOfRows.length; i<len; i++) {
    	newTableBody.appendChild(rows[arrayOfRows[i].oldIndex].cloneNode(true));
    	}
    table.replaceChild(newTableBody,tbody);
    } // function SortTable()

    function CompareRowOfText(a,b) {
    var aval = a.value;
    var bval = b.value;
    return( aval == bval ? 0 : (aval > bval ? 1 : -1) );
    } // function CompareRowOfText()

    function CompareRowOfNumbers(a,b) {
    var aval = /\d/.test(a.value) ? parseFloat(a.value) : 0;
    var bval = /\d/.test(b.value) ? parseFloat(b.value) : 0;
    return( aval == bval ? 0 : (aval > bval ? 1 : -1) );
    } // function CompareRowOfNumbers()

    function GetDateSortingKey(format,text) {
    if( format.length < 1 ) { return ""; }
    format = format.toLowerCase();
    text = text.toLowerCase();
    text = text.replace(/^[^a-z0-9]*/,"",text);
    text = text.replace(/[^a-z0-9]*$/,"",text);
    if( text.length < 1 ) { return ""; }
    text = text.replace(/[^a-z0-9]+/g,",",text);
    var date = text.split(",");
    if( date.length < 3 ) { return ""; }
    var d=0, m=0, y=0;
    for( var i=0; i<3; i++ ) {
    	var ts = format.substr(i,1);
    	if( ts == "d" ) { d = date[i]; }
    	else if( ts == "m" ) { m = date[i]; }
    	else if( ts == "y" ) { y = date[i]; }
    	}
    if( d < 10 ) { d = "0" + d; }
    if( /[a-z]/.test(m) ) {
    	m = m.substr(0,3);
    	switch(m) {
    		case "jan" : m = 1; break;
    		case "feb" : m = 2; break;
    		case "mar" : m = 3; break;
    		case "apr" : m = 4; break;
    		case "may" : m = 5; break;
    		case "jun" : m = 6; break;
    		case "jul" : m = 7; break;
    		case "aug" : m = 8; break;
    		case "sep" : m = 9; break;
    		case "oct" : m = 10; break;
    		case "nov" : m = 11; break;
    		case "dec" : m = 12; break;
    		default    : m = 0;
    		}
    	}
    if( m < 10 ) { m = "0" + m; }
    y = parseInt(y);
    if( y < 100 ) { y = parseInt(y) + 2000; }
    return "" + String(y) + "" + String(m) + "" + String(d) + "";
    } // function GetDateSortingKey()
    </script>


    <!-- Bootstrap core JavaScript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
   <!--  <script src="../../dist/js/bootstrap.min.js"></script> -->
    <!-- IE10 viewport hack for Surface/desktop Windows 8 bug -->
  <!--  <script src="../../assets/js/ie10-viewport-bug-workaround.js"></script> -->
  </body>
</html>
